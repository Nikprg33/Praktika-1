def encrypt_vigenere(text, key):
    # Russian alphabet (33 letters)
    russian_alphabet = 'АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ'
    encrypted_text = []
    key_index = 0
    for char in text:
        if char.upper() in russian_alphabet:
            char_upper = char.upper()
            
            # Get numerical position of character and key letter
            char_pos = russian_alphabet.find(char_upper)
            key_char = key[key_index % len(key)].upper()
            key_pos = russian_alphabet.find(key_char)
            
            # Apply Vigenere formula: (P + K) mod N
            encrypted_pos = (char_pos + key_pos) % len(russian_alphabet)
            encrypted_char = russian_alphabet[encrypted_pos]
            
            # Maintain original case
            if char.islower():
                encrypted_text.append(encrypted_char.lower())
            else:
                encrypted_text.append(encrypted_char)
            
            key_index += 1
        else:
            # If not a Russian letter, keep it as is
            encrypted_text.append(char)
    
    return "".join(encrypted_text)


message = """История развития систем информационной безопасности насчитывает 
множество этапов, каждый из которых характеризуется своими особенностями и 
достижениями. Первые попытки защиты информации связаны с появлением шифрования, 
которое возникло еще до нашей эры. В Древнем Египте использовались специальные знаки 
для кодировки сообщений, а в Римской империи применяли различные методы шифровки 
для военных целей.
С развитием технологий, появились новые угрозы безопасности данных, такие как 
вирусы и хакерские атаки. В начале XX века были разработаны первые антивирусные 
программы, которые позволяли обнаруживать и удалять вредоносный код. Также начали 
использоваться методы криптографии для защиты электронной почты и финансовых 
транзакций.
Однако настоящая революция в области информационной безопасности произошла в 
конце XX века с появлением интернета. Интернет стал глобальной сетью, которая позволила обмениваться информацией между людьми и организациями со всего мира. Это привело к 
созданию новых угроз, таких как фишинговые атаки и утечки данных. Компании начали 
разрабатывать сложные системы защиты информации, включающие брандмауэры, системы 
управления идентификацией и доступа, а также системы обнаружения вторжений.
В настоящее время системы информационной безопасности продолжают развиваться и 
совершенствоваться. Разрабатываются новые технологии, такие как машинное обучение и 
искусственный интеллект, которые позволяют автоматизировать процессы обнаружения и 
предотвращения угроз. Кроме того, все больше внимания уделяется защите персональных 
данных пользователей и соблюдению законодательства в этой области.
Таким образом, история становления систем информационной безопасности 
показывает, что защита информации является одной из ключевых задач современного 
общества. Благодаря непрерывному развитию технологий и подходов к защите данных, мы 
можем надежно защищать нашу информацию от различных угроз."""

key = "ВИЖЕНЕР"
encrypted_message = encrypt_vigenere(message, key)  # ← исправлено имя переменной
print(encrypted_message)